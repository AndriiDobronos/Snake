<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snake TS</title>
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <div class="app">
        <h1>Snake</h1>
        <div class="hud">
            <div class="scoreboard">
                <span>Score: <strong id="score">0</strong></span>
                <span>High: <strong id="highScore">0</strong></span>
                <span>Speed: <strong id="speed">1.0x</strong></span>
            </div>
            <div class="controls">
                <div class="speed-control">
                    <label for="speedSlider">Speed:</label>
                    <input type="range" id="speedSlider" min="0.2" max="3" step="0.1" value="1" />
                    <span id="speedValue">1.0x</span>
                </div>
                <button id="pauseBtn" type="button" aria-pressed="false">Pause (Space)</button>
                <button id="restartBtn" type="button">Restart (R)</button>
            </div>
        </div>
        <div class="canvas-wrap">
            <canvas id="game" aria-label="Snake game" role="img"></canvas>
            <div id="overlay" class="overlay hidden" aria-live="polite"></div>
        </div>

        <!-- Мобильные элементы управления -->
        <div class="mobile-controls">
            <div class="dpad">
                <button class="dpad-btn dpad-up" id="btnUp" aria-label="Move up">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 14l5-5 5 5z" />
                    </svg>
                </button>
                <div class="dpad-middle">
                    <button class="dpad-btn dpad-left" id="btnLeft" aria-label="Move left">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15 7l-5 5 5 5z" />
                        </svg>
                    </button>
                    <button class="dpad-btn dpad-right" id="btnRight" aria-label="Move right">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 7l5 5-5 5z" />
                        </svg>
                    </button>
                </div>
                <button class="dpad-btn dpad-down" id="btnDown" aria-label="Move down">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 10l5 5 5-5z" />
                    </svg>
                </button>
            </div>
        </div>
        <details class="help">
            <summary>How to play</summary>
            <ul>
                <li>Use Arrow Keys or WASD to move</li>
                <li>Press Space to pause/resume</li>
                <li>Press R to restart after game over</li>
                <li>Eat apples to grow and increase score</li>
                <li>Don't crash into walls or yourself</li>
            </ul>
        </details>
    </div>
    <!-- For instant play use compiled JS. For Vite dev, import '/src/main.ts' instead. -->
    <script type="module" src="./main.js"></script>
</body>

</html>